<?xml version="1.0" encoding="utf-8" ?>
<mdscript name="Menu_LIB" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="D:/x4_extract_2.5/libraries/md.xsd">
    <cues>
        <cue name="Init">
            <conditions>
                <event_cue_signalled cue="md.Setup.GameStart" />
                <check_value value="false" />
            </conditions>
            <actions>
                <!-- 
                    label
                    edit
                    button
                    dropdown
                    slider
                 -->
                <!--menu title types-->
                <set_value name="$TP_Menu" exact="1" />
                <set_value name="$Merc_Menu" exact="2" />
                <set_value name="$FOS_Menu" exact="3" />
            </actions>
            <cues>
                <!-- test mod -->
                <cue name="SendData" instantiate="true">
                    <conditions>
                        <event_cue_signalled />
                    </conditions>
                    <actions>
                        <create_list name="$MenuParams" />
                        <!-- type -->
                        <append_to_list name="$MenuParams" exact="'label'" />
                        <!-- colums -->
                        <append_to_list name="$MenuParams" exact="1" />
                        <!-- text -->
                        <append_to_list name="$MenuParams" exact="'some text'" />
                        <!-- mouseover -->
                        <append_to_list name="$MenuParams" exact="'mouseover text'" />
                        <signal_cue_instantly cue="md.Menu_LIB.UpdateMenu" param="['add', 'menu', $object, 'unknown' ]" />
                    </actions>
                </cue>
                <cue name="RemoveData" instantiate="true">
                    <conditions>
                        <event_cue_signalled />
                    </conditions>
                    <actions>
                        <signal_cue_instantly cue="md.Menu_LIB.UpdateMenu" param="'remove'" />
                    </actions>
                </cue>
                <!-- lib -->
                <cue name="DisplyCondition" instantiate="true">
                    <conditions>
                        <event_object_docked object="player.ship" />
                    </conditions>
                    <actions>
                        <signal_cue_instantly cue="UpdateMenu" param="'Display Menu'" />
                    </actions>
                    <!-- signal draw menu
                draw parent 
                draw menus on table -->
                </cue>
                <cue name="UpdateMenu" instantiate="true">
                    <conditions>
                        <event_cue_signalled />
                    </conditions>
                    <actions>
                        <do_if value="event.param == 'Display Menu'">
                            <signal_cue_instantly cue="" />
                        </do_if>
                        <do_if value="not $Tp_Menu_Table">
                            <set_value name="$Tp_Menu_Table" exact="table[]" />
                        </do_if>
                        <do_if value="event.param.{1} == 1">
                            <do_if value="$Tp_Menu_Table.$TP_Menu_Rows.indexof.{event.param.{2}} == 0">
                                <set_value name="$Tp_Menu_Table.$TP_Menu_Rows" exact="event.param.{2}" operation="add" />
                            </do_if>
                            <do_else>
                                <set_value name="$Tp_Menu_Table.$TP_Menu_Rows" exact="event.param.{2}" operation="subtract" />
                            </do_else>
                        </do_if>
                    </actions>
                    <!-- add to menu table -->
                </cue>
                <cue name="DrawMenu" instantiate="true">
                    <conditions>
                        <event_cue_signalled />
                    </conditions>
                    <actions>
                        <!-- 
                            tpmenu[
                            title
                            col


                            merc[(merc_display)(merc_rows(1,type, n desc for button shit, 2))]
                            
                            fos[]
                            wreck[]
                            
                            
                            ]



                         -->




                        <signal_cue_instantly cue="md.Simple_Menu_API.Create_Menu" param="table[
                                    $columns=2, 
                                    $title='',
                                    ]" />
                        <do_all exact="event.param.keys.count" counter="$i">

                        </do_all>
                    </actions>
    
                </cue>
                <library name="Defaults">
                    <actions>
                        <set_value name="" />
                    </actions>
                </library>
                
            </cues>
        </cue>
    </cues>
</mdscript>